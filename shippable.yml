language: none
env:
  - ARM_NONE_EABI: /usr
  - CONFIG_TOKEN: {"token": "20Ew9GBD5UwnjMZHoZgECQbEqAm5S4RlmMGMeFvVk"}

build:
  pre_ci_boot:
    image_name: jumperio/vlab-gcc-arm
    image_tag: latest
    pull: true
  ci:
    - make -C src/pca10040/blank/armgcc/
    - pip install -r requirements.txt
    - mkdir ~/.jumper/
    - echo $CONFIG_TOKEN > ~/.jumper/config.json
    - jumper run -u --fw test/unity/pca10040/blank/armgcc/_build/nrf52832_xxaa.bin
